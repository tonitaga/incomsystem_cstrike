# INCOMSYSTEM CS 1.6 Server

## Как запустить?

1) Склонировать к себе репозиторий или скачать в виде архива 

```shell
git clone https://github.com/tonitaga/incomsystem_cstrike.git
```

- [Скачать в виде архива](https://github.com/tonitaga/incomsystem_cstrike/archive/refs/heads/main.zip)


2) В корневой директории находится файл `run_server.bat`

Он запускает сервер CS1.6 и автоматически открывает HFS (http file server) сервер для быстрой загрузки файлов клиентам.

Если IP-адрес сервера и HFS не те которые вы ожидали, то отключите все ненужные сетевые адаптеры в настройках Windows (`Панель управления\Сеть и Интернет\Сетевые подключения`) и оставьте только нужный.

После того как вы выяснили IP-адрес HFS-сервера, внесите эти данные в конфигурацию. Откройте файл `cstrike/hfs/hfs.cfg` и добавьте в параметр `sv_downloadurl` свой адрес и порт.


Например:
```cfg
sv_downloadurl "http://192.168.0.1:8088/cstrike"
```

3) Сервер готов к игре!

## Как запустить `Team DeathMatch`?

Для включения режима `Team DeathMatch` выполните следующие действия:

1. Откройте терминал сервера и введите команды:

```
amx_incom_respawn_enable 1
amx_incom_weapons_delete_time 5.0
sv_restart 1
```

- Для отключения режима:

```
amx_incom_respawn_enable 0
amx_incom_weapons_delete_time 60.0
sv_restart 1
```

## Как управлять сервером со стороны клиента?

Администратор может управлять сервером и со стороны клиента, отправляя на него команды. Для этого нужно:

1. Узнать свой STEAM_ID.

* Находясь на сервере, откройте терминал клиента и введите команду status. Она покажет список всех игроков и их STEAM_ID. Скопируйте идентификатор игрока, который будет администратором.

2. Перейдите в файл `cstrike/addons/amxmodx/configs/users.ini`

3. Добавьте в файл строку с правами администратора:

```
"STEAM_1:0:1745810986" "" "abcdefghijklmnopqrstuv" "ce"
```

Чтобы изменения вступили в силу, перезапустите сервер или смените карту:

```
amx_map map_name
```

- Управление происходит командами указанными в файле `users.ini`

Основная команда которая позволяет менять параметры сервера и плагинов это `amx_rcon`

Например:
```
amx_rcon sv_restart 1
amx_rcon map $2000$
amx_rcon amx_incom_respawn_enable 1
```

## Конфигурация дополнительных плагинов

- При неоходимости можно посмотреть все загруженные на сервер плагины при помощи команды

```
amxx plugins
```

В файле `cstrike/addons/amxmodx/configs/plugins.ini` указаны все подключаемые плагины. Ненужные можно отключить, но в основном их можно отключать и программно, не редактируя при этом файл `plugins.ini`

Основные настройки всех плагинов можно увижеть в папке `cstrike/addons/amxmodx/configs/`. Именованные конфигурационные файлы лежат в папках:

- `cstrike/addons/amxmodx/configs/plugins`
- `cstrike/addons/amxmodx/configs/aes`